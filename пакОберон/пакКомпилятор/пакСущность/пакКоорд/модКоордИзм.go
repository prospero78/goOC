package пакКоорд

// модКоордИзм

/*
	Модуль описывает тип с изменяемыми координатами
*/

import (
	пакКонс "../../../пакКонсоль"
	пакФмт "fmt"
)

//ТуКоордИзм -- тип для изменяемых координат
type ТуКоордИзм struct {
	стр  ТЦелСтр
	поз  ТЦелПоз
	конс *пакКонс.ТуКонсоль
}

//НовыйИзм -- возвращает новый экземпляр изменяемых координат
func НовыйИзм(пСтр ТЦелСтр, пПоз ТЦелПоз) (ки *ТуКоордИзм, ош error) {
	if пСтр >= 1 {
		if пПоз >= 0 {
			ки = &ТуКоордИзм{
				стр:  пСтр,
				поз:  пПоз,
				конс: пакКонс.Конс,
			}
		} else {
			ош = пакФмт.Errorf("пакКоорд.НовыйИзм(): пПоз не может быть меньше 0")
			return nil, ош
		}
	} else {
		ош = пакФмт.Errorf("пакКоорд.НовыйИзм(): пСтр не может быть меньше 1")
		return nil, ош
	}
	return ки, nil
}

//Поз -- возвращает позицию литеры или слова в строке (глядя в составе чего использовано)
func (сам *ТуКоордИзм) Поз() (поз ТЦелПоз) {
	return сам.поз
}

//ПозДоб -- увеличение координаты Поз на 1
func (сам *ТуКоордИзм) ПозДоб() {
	сам.поз++
}

//ПозСброс -- сбрасывает позицию литеры в строке в 0
func (сам *ТуКоордИзм) ПозСброс() {
	сам.поз = 0
}

//ПозУст -- устанавливает позицию литеры в строке
func (сам *ТуКоордИзм) ПозУст(пПоз ТЦелПоз) (ош error) {
	if пПоз < 0 {
		ош = пакФмт.Errorf("ТуКоордИзм.ПозУст(): отрицательный пПоз запрещён, пПоз=%v", пПоз)
		return ош
	}
	сам.поз = пПоз
	return nil
}

//Стр -- возвращает номер строки в которой содержится литера
func (сам *ТуКоордИзм) Стр() (стр ТЦелСтр) {
	return сам.стр
}

//СтрДоб -- увеличивает номер строки в ТуКоорд
func (сам *ТуКоордИзм) СтрДоб() {
	сам.стр++
}

//String -- для соответствия интерфейсу ИКоордФикс
func (сам *ТуКоордИзм) String() string {
	return "*ТуКоордИзм{стр:" + пакФмт.Sprintf("%v", сам.стр) + ", поз:" + пакФмт.Sprintf("%v", сам.поз) + "}"
}
