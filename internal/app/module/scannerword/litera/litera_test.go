package litera

/*
	Модуль предоставляет тест для интерфейса литеры
*/

import (
	мТест "testing"
)

var (
	лит *ТЛит
	ош  error
)

func TestЛит(тест *мТест.T) {
	_Позитив := func() {
		{ //1 Создание литеры
			тест.Logf("п1 Сощдание литеры\n")
			if лит, ош = Нов("1"); ош != nil {
				тест.Errorf("п1.1 ERROR при создании литеры\n\t%v", ош)
			}
			if лит == nil {
				тест.Errorf("п1.2 ERROR лит не должна быть nil\n")
			}
		}
		{ //2 Проверка начальных значений
			тест.Logf("п2 Проверка начальных значений\n")
			if лит.Получ() != "1" {
				тест.Errorf("п2.1 ERROR при хранении пустой литеры, пЛит=[%v]\n", лит)
			}
			if !лит.IsDigit() {
				тест.Errorf("п2.2 ERROR при хранении пустой литеры\n")
			}
			if лит.IsSpecLetter() {
				тест.Errorf("п2.2 ERROR при хранении пустой литеры\n")
			}
			if лит.IsLetter() {
				тест.Errorf("п2.3 ERROR при хранении пустой литеры\n")
			}
		}
		{ //3 Установка буквы
			тест.Logf("п3 Установка буквы\n")
			if ош = лит.Уст("Б"); ош != nil {
				тест.Errorf("п3.1 ERROR в установке литеры\n\t%v", ош)
			}
			if лит.IsDigit() {
				тест.Errorf("п3.2 ERROR при хранении буквы\n")
			}
			if лит.IsSpecLetter() {
				тест.Errorf("п3.3 ERROR при хранении буквы\n")
			}
			if !лит.IsLetter() {
				тест.Errorf("п3.4 ERROR при хранении буквы \"Б\", знач=[%v]\n", лит)
			}
		}
		{ //4 Установка цифры
			тест.Logf("п4 Установка цифры\n")
			if ош = лит.Уст("8"); ош != nil {
				тест.Errorf("п4.1 ERROR в установке литеры\n\t%v", ош)
			}
			if !лит.IsDigit() {
				тест.Errorf("п4.2 ERROR при хранении цифры \"8\", знач=[%v]\n", лит)
			}
			if лит.IsSpecLetter() {
				тест.Errorf("п4.3 ERROR при хранении цифры\n")
			}
			if лит.IsLetter() {
				тест.Errorf("п4.4 ERROR при хранении цифры\n")
			}
		}
		{ //5 Установка спецлитеры
			тест.Logf("п5 Установка спецлитеры\n")
			if ош = лит.Уст("_"); ош != nil {
				тест.Errorf("п5.1 ERROR в установке литеры\n\t%v", ош)
			}
			if лит.IsDigit() {
				тест.Errorf("п5.2 ERROR при хранении спецлитеры\n")
			}
			if !лит.IsSpecLetter() {
				тест.Errorf("п5.3 ERROR при хранении спецлитеры\"_\", знач=[%v]\n", лит)
			}
			if лит.IsLetter() {
				тест.Errorf("п5.4 ERROR при хранении цифры\n")
			}
		}
		{ //6 Проверка строкового представления
			тест.Logf("п6 Проверка строкового представления\n")
			if лит.String() != "_" {
				тест.Errorf("п6 ERROR в строковом представлении, знач=[%v]\n", лит)
			}
		}
	}
	_Негатив := func() {
		{ //1 Создание литеры
			тест.Logf("н1 Сощдание литеры\n")
			if лит, ош = Нов(""); ош == nil {
				тест.Errorf("н0 ERROR ош==nil\n")
			}
			if лит, ош = Нов("1"); ош != nil {
				тест.Errorf("н1.1 ERROR при создании литеры\n\t%v", ош)
			}
			if лит == nil {
				тест.Errorf("н1.2 ERROR лит не должна быть nil\n")
			}
		}
		{ //2  Пустое присвоение
			тест.Logf("н2 Пустое присвоение\n")
			if ош = лит.Уст(""); ош == nil {
				тест.Errorf("н2.1 ERROR в установке литеры\n\t%v", ош)
			}
			if !лит.IsDigit() {
				тест.Errorf("н2.2 ERROR при хранении буквы\n")
			}
			if лит.IsSpecLetter() {
				тест.Errorf("н2.3 ERROR при хранении буквы\n")
			}
			if лит.IsLetter() {
				тест.Errorf("н2.4 ERROR при хранении буквы\n")
			}
		}
		{ //3  Запрещённое присвоение
			тест.Logf("н3 Запрещённое присвоение\n")
			if ош = лит.Уст("\t"); ош != nil {
				тест.Errorf("н3.10 ERROR ош!=nil\n\t%v", ош)
			}
			if лит.IsDigit() {
				тест.Errorf("н3.2 ERROR при хранении буквы\n")
			}
			if лит.IsSpecLetter() {
				тест.Errorf("н3.3 ERROR при хранении буквы\n")
			}
			if лит.IsLetter() {
				тест.Errorf("н3.4 ERROR при хранении буквы \n")
			}
		}
	}
	_Позитив()
	_Негатив()
}
